{"containerDefinitions":[{"cpu":0,"environment":[],"essential":true,"healthCheck":{"command":["CMD-SHELL","curl -f http://localhost:3000/api/health || exit 1"],"interval":5,"retries":10,"startPeriod":0,"timeout":50},"image":"974812739502.dkr.ecr.eu-west-2.amazonaws.com/ranklab-web-production:latest","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":"/ecs/ranklab-web","awslogs-region":"eu-west-2","awslogs-stream-prefix":"ecs"}},"mountPoints":[],"name":"ranklab-web","portMappings":[{"containerPort":3000,"hostPort":3000,"protocol":"tcp"}],"secrets":[{"name":"API_HOST","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/api_host"},{"name":"AUTH_CLIENT_SECRET","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/auth_client_secret"},{"name":"AUTH_ISSUER","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/auth_issuer"},{"name":"AUTH_JWKS","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/auth_jwks"},{"name":"AWS_ACCESS_KEY_ID","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/aws_access_key_id"},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/aws_secret_access_key"},{"name":"COOKIE_SECRET","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/cookie_secret"},{"name":"HOST","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/host"},{"name":"NEXT_PUBLIC_ASSETS_CDN_URL","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/next_public_assets_cdn_url"},{"name":"NEXT_PUBLIC_INTERCOM_APP_ID","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/next_public_intercom_app_id"},{"name":"NEXT_PUBLIC_MIXPANEL_PROJECT_TOKEN","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/next_public_mixpanel_project_token"},{"name":"NEXT_PUBLIC_SENTRY_DSN","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/next_public_sentry_dsn"},{"name":"NEXT_PUBLIC_UPLOADS_CDN_URL","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/next_public_uploads_cdn_url"},{"name":"NEXTAUTH_SECRET","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/nextauth_secret"},{"name":"NEXTAUTH_URL","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/nextauth_url"},{"name":"SENTRY_AUTH_TOKEN","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/sentry_auth_token"},{"name":"TWITCH_CLIENT_ID","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/twitch_client_id"},{"name":"TWITCH_CLIENT_SECRET","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/twitch_client_secret"}],"volumesFrom":[]},{"essential":true,"image":"amazon/aws-xray-daemon","logConfiguration":{"logDriver":"awslogs","options":{"awslogs-group":"/ecs/ranklab-web","awslogs-region":"eu-west-2","awslogs-stream-prefix":"ecs"}},"name":"xray","portMappings":[{"containerPort":2000,"hostPort":2000,"protocol":"udp"}],"secrets":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/aws_access_key_id"},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":"arn:aws:ssm:eu-west-2:974812739502:parameter/production/web/aws_secret_access_key"}]}],"cpu":"1024","executionRoleArn":"arn:aws:iam::974812739502:role/web-ecs-task-execution-role","family":"web-task","memory":"4096","networkMode":"awsvpc","placementConstraints":[],"requiresCompatibilities":["FARGATE"],"volumes":[]}